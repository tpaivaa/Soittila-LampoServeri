<html lang="fi">
<head>
<link rel="stylesheet" type="text/css" href="styles/screen.css" />
<link rel="stylesheet" href="styles/screen.css" type="text/css" media="Screen" />
<link rel="stylesheet" href="styles/mobile.css" type="text/css" media="handheld" />
<script type="text/javascript" src="scripts/jquery.js"></script>
<script type='text/javascript' src='https://www.google.com/jsapi'></script>

<meta charset="UTF-8">
<title>Lämpö linkit</title>
</head>
<body>
    <a class="otsake" href="ajax.html">Kaikki</a>
    <div id='chart_div'></div>
    <div id='chart_div_1'></div>
<script type="text/javascript">
var khh = olohuone = makuuhuone = akWcLattia = puukattila = 0;

$.getJSON('https://paawo.dy.fi:18443/viimetilat.html', function(tilat) {
    khh = tilat.khh;
    akWcLattia = tilat.akWcLattia;
    olohuone = tilat.olohuone;
    puukattila = tilat.puukattila;
    makuuhuone = tilat.makuuhuone;
});    
      google.load('visualization', '1', {packages:['gauge']});
      //google.setOnLoadCallback(drawChart);
      
function drawChart() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Label');
        data.addColumn('number', 'Value');        
        data.addRows([
          ['khh', khh],
          ['khh Lattia', akWcLattia],
          ['Olohuone', olohuone],
          ['Makuuhuone', makuuhuone]
        ]);
        var options = {
          min: 0, max: 40,  
          width: 640, height: 120,
          redFrom: 35, redTo: 40,
          yellowFrom: 23, yellowTo: 35,
          minorTicks: 5
        };

        var chart = new google.visualization.Gauge(document.getElementById('chart_div'));
        chart.draw(data, options);
      }
function drawChartHot() {
        var data1 = new google.visualization.DataTable();
        data1.addColumn('string', 'Label');
        data1.addColumn('number', 'Value');        
        data1.addRows([
          ['Puukattila', puukattila]
        ]);
        var options1 = {
          min: 0, max: 100,  
          width: 400, height: 120,
          redFrom: 60, redTo: 100,
          yellowFrom: 40, yellowTo: 60,
          minorTicks: 5
        };

        var chart = new google.visualization.Gauge(document.getElementById('chart_div_1'));
        chart.draw(data1, options1);
      }
      
$(function(){
    drawChart();
    drawChartHot();
    setInterval( "drawChart()", 10000 );
    setInterval( "drawChartHot()", 15000 );
});    
</script>
</body>
</html>
